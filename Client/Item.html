<html>
    <head>
        <title>Item page</title>
        <link rel="icon" href="../Image/Logo Yoxplore.png" type="image/png">
        <link rel="stylesheet" href="../Style/Item.css">
        <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    </head>
    <body>
        <header>
            <nav class="container">
                <a href="../Client/Home.html"><img class="logo" src="../Image/Yoxplore logo text.png" alt="Yoxplore Logo"></a>
                <button class="hamburger-menu" aria-label="Menu" onclick="toggleNav()">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
                <div class="nav-links">
                    <a href="../Client/Home.html"><img src="../Image/home.png" alt="Home Icon"> Home</a>
                    <a href="../Client/Yotrip.html"><img src="../Image/yotrip.png" alt="Trip Icon"> YoTrip</a>
                    <a href="../Client/Yoconcert.html"><img src="../Image/yoconcert.png" alt="Concert Icon"> YoConcert</a>
                    <a href="../Client/YoTaste.html"><img src="../Image/yotaste.png" alt="Taste Icon"> YoTaste</a>
                    <a href="../Client/YoStay.html"><img src="../Image/yostay.png" alt="Stay Icon"> YoStay</a>
    
                </div>
                <div class="user-profile">
                    <span id="usernameDisplay"></span></div>
                <div class="profile-dropdown">
                    <div class="profile-icon" onclick="toggleDropdown()">
                        <img src="../Image/user.png" alt="Profile Icon">
                    </div>
                    <div id="dropdown-menu" class="dropdown-menu">
                        <a href="../Client/Profile.html" class="menu-item">
                            <img src="../Image/navbar/settings.png" alt="Settings Icon">
                            Account 
                        </a>
                        <a href="../Client/Login.html"  onclick="logout()" class="menu-item logout">
                            <img src="../Image/navbar/logout.png" alt="Logout Icon">
                            Logout
                        </a>
                    </div>
                </div>                                
            </nav>
        </header>

        <div class="main">
          <div class="container2">
            <div class="column">
                <div class="column-right">
                    <h1></h1>
                    <div class="review-rating-head">
                        <div class="star-rating">
                            <i class='bx bxs-star'></i>
                        </div>
                          <span class="rating-score"></span>
                          <span class="rating-max">/5</span>
                          <span class="rating-user">From users</span>
                      </div>
                    <div class="info-section">
                        <div class="location-info">
                            <div class="info-item">
                                <span class="icon"><img src="../Image/location.png" alt=""></span>
                                <p></p>
                            </div>
                            <div class="info-item">
                                <span class="icon"><img src="../Image/clock.png" alt=""></span>
                                <p></p>
                            </div>
                            <div class="info-item">
                                <span class="icon"><img src="../Image/call.png" alt=""></span>
                                <p></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
  
            <div class="gallery">
              <div class="gallery-item parent">
                  <img src="" alt="Main Hotel Image">
              </div>
              <div class="gallery-item child">
                  <img src="" alt="Hotel Image 2">
              </div>
              <div class="gallery-item child">
                  <img src="" alt="Hotel Image 3">
              </div>
              <div class="gallery-item child">
                  <img src="" alt="Hotel Image 4">
              </div>
              <div class="gallery-item child">
                  <img src="" alt="Hotel Image 5">
              </div>
              <div class="gallery-item child">
                <img src="" alt="Hotel Image 4">
              </div>
              <div class="gallery-item child last-item">
                <img src="" alt="Hotel Image 5">
                <a href="javascript:void(0)" onclick="openGallery()" class="overlay-link">
                    <div class="overlay-content">
                        <div class="image-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <rect x="3" y="3" width="18" height="18" rx="2" stroke="white" stroke-width="2"/>
                                <circle cx="8.5" cy="8.5" r="1.5" fill="white"/>
                                <path d="M3 15L8 10L13 15L21 7" stroke="white" stroke-width="2"/>
                            </svg>
                        </div>
                        <span>See All Photos</span>
                    </div>
                </a>
            </div>
            </div>
        </div>
      </div>

      <div id="gallery-modal" class="gallery-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>All Photos</h2>
                <span class="close">&times;</span>
            </div>
            <div class="modal-gallery">
                <img src="" alt="Photo 1">
                <img src="" alt="Photo 2">
                <img src="" alt="Photo 3">
                <img src="" alt="Photo 4">
                <img src="" alt="Photo 5">
                <img src="" alt="Photo 6">
                <img src="" alt="Photo 7">
                <img src="" alt="Photo 8">
                <img src="" alt="Photo 9">
                <!-- Add more images as needed -->
            </div>
        </div>
    </div>
            
        <div class="map">
            <iframe 
              src="" 
              width="90%" 
              height="400" 
              style="border:0; border-radius:10px;" 
              allowfullscreen="" 
              loading="lazy" 
              referrerpolicy="no-referrer-when-downgrade">
              </iframe>
              <button class="route-btn" onclick="window.open()">Get Direction</button>
        </div>

        <!-- Add this after the map div and before the footer -->
        <div class="reviews-section">
          <div class="reviews-header">
            <h2>Users Review</h2>
            <button class="add-review-btn" id="openModal">
                + Add Review
            </button>
        </div>
          <div class="reviews-container">
              <div class="review-card">
                  <div class="review-header">
                      <div class="reviewer-info">
                          <img src="../Image/user.png" alt="User Profile" class="reviewer-pic">
                          <div class="reviewer-details">
                              <h4></h4>
                          </div>
                      </div>
                      <div class="review-rating">
                        <div class="star-rating">
                            <i class='bx bxs-star'></i>
                        </div>
                          <span class="rating-score"></span>
                          <span class="rating-max">/5</span>
                      </div>
                  </div>
                  <p class="review-text"></p>
                  <div class="review-images">
                      <img src="" alt="Food Review 1">
                      <img src="" alt="Food Review 2">
                      <img src="" alt="Food Review 3">
                  </div>
              </div>

              <div class="review-card">
                  <div class="review-header">
                      <div class="reviewer-info">
                          <img src="../Image/user.png" alt="User Profile" class="reviewer-pic">
                          <div class="reviewer-details">
                              <h4></h4>
                          </div>
                      </div>
                      <div class="review-rating">
                        <div class="star-rating">
                            <i class='bx bxs-star'></i>
                        </div>
                          <span class="rating-score"></span>
                          <span class="rating-max">/5</span>
                      </div>
                  </div>
                  <p class="review-text"></p>
                  <div class="review-images">
                      <img src="" alt="Restaurant Review 1">
                      <img src="" alt="Restaurant Review 2">
                      <img src="" alt="Restaurant Review 2">
                  </div>
              </div>

              <div class="review-card">
                  <div class="review-header">
                      <div class="reviewer-info">
                          <img src="../Image/user.png" alt="User Profile" class="reviewer-pic">
                          <div class="reviewer-details">
                              <h4></h4>
                          </div>
                      </div>
                      <div class="review-rating">
                        <div class="star-rating">
                            <i class='bx bxs-star'></i>
                        </div>
                          <span class="rating-score"></span>
                          <span class="rating-max">/5</span>
                      </div>
                  </div>
                  <p class="review-text"></p>
                  <div class="review-images">
                      <img src="" alt="Atmosphere Review 1">
                      <img src="" alt="Food Review 4">
                      <img src="" alt="Restaurant Review 2">
                  </div>
              </div>
          </div>
        </div>

        <div id="modal" class="modal">
            <div class="wrapper">
              <h3>Leave a Review</h3>
              
              <!-- Rating -->
              <div class="rating">
                <input type="number" name="rating" hidden>
                <i class='bx bx-star star' style="--i: 0;"></i>
                <i class='bx bx-star star' style="--i: 1;"></i>
                <i class='bx bx-star star' style="--i: 2;"></i>
                <i class='bx bx-star star' style="--i: 3;"></i>
                <i class='bx bx-star star' style="--i: 4;"></i>
              </div>
    
              <!-- Kolom Komentar -->
              <textarea rows="4" placeholder="Write your comment here..."></textarea>
    
              <!-- Input Upload Gambar -->
              <div class="image-upload">
                <label for="file-input" class="upload-label">
                  <i class='bx bx-image-add'></i> Upload Image
                </label>
                <input type="file" id="file-input" accept="image/*" hidden>
                <div id="image-preview" class="image-preview"></div>
              </div>
    
              <!-- Button Group -->
              <div class="btn-group">
                <button class="btn submit">Submit</button>
                <button class="btn cancel" id="closeModal">Cancel</button>
              </div>
            </div>
          </div>
        
        <footer class="footer">
            <div class="contact-info">
                <h3>Contact us</h3>
                <ul>
                    <li><img src="../Image/footer/clock.png" alt="Clock" class="icon"> Monday - Friday, 09:00 - 17:00</li>
                    <li><img src="../Image/footer/email.png" alt="Email" class="icon"> Email: <a href="mailto:yoxplore@gmail.com">yoxplore@gmail.com</a></li>
                    <li><img src="../Image/footer/phone-call.png" alt="Phone" class="icon"> Phone: 08123456789</li>
                    <li><img src="../Image/yotrip.png" alt="Location" class="icon"> Universitas Islam Indonesia,</li>
                    <div class="alamat">
                        Gedung K.H. Mas Mansyur, <br>
                        Daerah Istimewa Yogyakarta 55584
                    </div>
                </ul>
            </div>
            
            <div class="products">
                <h3>Products</h3>
                <ul>
                    <li><a href="../Client/Yotrip.html">YoTrip</a></li>
                    <li><a href="../Client/Yotaste.html">YoTaste</a></li>
                    <li><a href="../Client/Yoconcert.html">YoConcert</a></li>
                    <li><a href="../Client/Yostay.html">YoStay</a></li>
                </ul>
            </div>
            <div class="social-media">
                <h3>Follow us on</h3>
                <ul>
                    <li class="icon"><img src="../Image/footer/sosmed/instagram.png" alt="Instagram">Instagram</li>
                    <li class="icon"><img src="../Image/footer/sosmed/tik-tok.png" alt="TikTok">TikTok</li>
                    <li class="icon"><img src="../Image/footer/sosmed/twitter.png" alt="Twitter">X</li>
                    <li class="icon"><img src="../Image/footer/sosmed/youtube.png" alt="YouTube">YouTube</li>
                    <li class="icon"><img src="../Image/footer/sosmed/facebook.png" alt="Facebook">Facebook</li>
                    <li class="icon"><img src="../Image/footer/sosmed/telegram.png" alt="Telegram">Telegram</li>
                </ul>
            </div>
            <div class="copyright">
                Copyright &copy; 2024 Yoxplore. All rights reserved
            </div>
        </footer>
        <script src="../Script/item.js"></script>
    </body>
    <script>
        
        function logout() {
            // Clear semua data
            sessionStorage.clear();
            localStorage.clear();
            window.location.href = '../Client/Login.html';
        }
        
        document.addEventListener('DOMContentLoaded', function() {
            const usernameDisplay = document.getElementById('usernameDisplay');
            fetch('/YoXplore/Controller/get_user_data.php')
                .then(response => response.json())
                .then(data => {
                    if(data.username) {
                        usernameDisplay.textContent = data.username;

                        if (data.profileImage) {
                            const navbarProfileIcon = document.querySelector('.profile-icon img');
                            if (navbarProfileIcon) {
                                navbarProfileIcon.src = data.profileImage;
                                navbarProfileIcon.style.borderRadius = '50%';
                                navbarProfileIcon.style.width = '40px';
                                navbarProfileIcon.style.height = '40px';
                                navbarProfileIcon.style.objectFit = 'cover';
                            }
                        }
                    }
                });
        });
        
            // Load profile image berdasarkan user_id
            const userId = sessionStorage.getItem('user_id');
            const profileImage = localStorage.getItem(`profileImage_${userId}`);
            
            if (profileImage) {
                const navbarProfileIcon = document.querySelector('.profile-icon img');
                if (navbarProfileIcon) {
                    navbarProfileIcon.src = profileImage;
                    navbarProfileIcon.style.borderRadius = '50%';
                    navbarProfileIcon.style.width = '40px';
                    navbarProfileIcon.style.height = '40px';
                    navbarProfileIcon.style.objectFit = 'cover';
                }
            }
    </script>
    <script src="../Script/item.js"></script>
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY"></script>
</html>